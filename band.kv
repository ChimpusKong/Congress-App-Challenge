#:kivy 1.11.1

WindowManager:
	Comparison:
	Analysis:
	Tuner:
	Metronome:

<ScreenWrapper>:
	BoxLayout:
		id: wrapper
		orientation: 'vertical'

		BoxLayout:
			id: main
			orientation: 'vertical'

		BoxLayout:
			id: navbar
			orientation: 'horizontal'
			size_hint: 1, .1

			Button:
				id: 0
				text: 'Comparison'
				color: 0, 0, 0, 1
				font_size: 10
				background_color: 1.25, 2.55, 2.38, 1
				on_press: root.manager.current = 'comparison'
			Button:
				id: 1
				text: 'Analysis'
				color: 0, 0, 0, 1
				font_size: 10
				background_color: 1.25, 2.55, 2.38, 1
				on_press: root.manager.current = 'analysis'
			Button:
				id: 2
				text: 'Tuner'
				color: 0, 0, 0, 1
				font_size: 10
				background_color: 1.25, 2.55, 2.38, 1
				on_press: root.manager.current = 'tuner'
			Button:
				id: 3
				text: 'Met.'
				color: 0, 0, 0, 1
				font_size: 10
				background_color: 1.25, 2.55, 2.38, 1
				on_press: root.manager.current = 'metronome'

<Comparison>:
	name: 'comparison'
	
	FloatLayout:

		Label: 
			text: root.compare_text
			pos_hint: {'center_x': .5, 'center_y': .85}
			font_size: '32sp'

		Label:
			text: "Scale: " + root.scale_text
			pos_hint: {'center_x': .5, 'center_y': .75}
			font_size: '32sp'

		Button:
			text: 'C Scale'
			pos_hint: {'center_x': .1, 'center_y': .55}
			size_hint: .2, .1
			on_press: root.scale_text = "C Scale"

		Button:
			text: 'D Scale'
			pos_hint: {'center_x': .3, 'center_y': .55}
			size_hint: .2, .1
			on_press: root.scale_text = "D Scale"

		Button:
			text: 'Eb Scale'
			pos_hint: {'center_x': .5, 'center_y': .55}
			size_hint: .2, .1
			on_press: root.scale_text = "Eb Scale"

		Button:
			text: 'F Scale'
			pos_hint: {'center_x': .7, 'center_y': .55}
			size_hint: .2, .1
			on_press: root.scale_text = "F Scale"

		Button:
			text: 'Bb Scale'
			pos_hint: {'center_x': .9, 'center_y': .55}
			size_hint: .2, .1
			on_press: root.scale_text = "Bb Scale"

		Label:
			text: root.is_recording + "Recording"
			pos_hint: {'center_x': .5, 'center_y': .425}
			font_size: '32sp'

		Button:
			id: compbutton
			text: "Compare"
			size_hint: .25, .1
			pos_hint: {'center_x': .35, 'center_y': .3}
			on_press: root.compare_pitch(root.scale, 'output.wav')

		ToggleButton:
			text: 'Record Scale'
			pos_hint: {'center_x': .65, 'center_y': .3}
			size_hint: .25, .1
			on_press: root.record_scale(self.state)


<Analysis>:
	name: 'analysis'
	
	FloatLayout:

		Label:
			text: root.pitch_text
			pos_hint: {'center_x': .5, 'center_y': .85}
			font_size: '32sp'

		Label:
			text: 'Enter the Filename'
			pos_hint: {'center_x': .5, 'center_y': .75}

		TextInput: 
			id: analinput
			hint_text: 'Sample'
			pos_hint: {'center_x': .5, 'center_y': .7}
			size_hint: .25, .05

		Label:
			text: root.is_recording + "Recording"
			pos_hint: {'center_x': .5, 'center_y': .55}
			font_size: '32sp'

		Button:
			id: analbutton
			text: "Analyize"
			size_hint: .25, .1
			pos_hint: {'center_x': .35, 'center_y': .4}
			on_press: root.get_pitch_init(analinput.text)

		ToggleButton:
			id: recordanal
			text: "Record"
			size_hint: .25, .1
			pos_hint: {'center_x': .65, 'center_y': .4}
			on_press: root.record_init(self.state)

<Tuner>:
	name: 'tuner'

	FloatLayout:

		Label:
			text: root.note_text
			pos_hint: {'center_x': .5, 'center_y': .55}
			font_size: '32sp'
			color: root.color_red, root.color_green, root.color_blue, 1

		Label:
			text: root.cent_text
			pos_hint: {'center_x': .5, 'center_y': root.posy}
			font_size: '32sp'
			color: root.color_red, root.color_green, root.color_blue, 1

		Label:
			text: 'Tuner'
			pos_hint: {'center_x': .5, 'center_y': .8}
			font_size: '32sp'

<Metronome>:
	name: 'metronome'

	FloatLayout:

		Label:
			text: root.met_text
			pos_hint: {'center_x': .5, 'center_y': .85}
			font_size: '32sp'

		Label:
			text: 'Enter the BPM'
			pos_hint: {'center_x': .5, 'center_y': .75}

		TextInput: 
			id: metinput
			hint_text: 'BPM'
			pos_hint: {'center_x': .5, 'center_y': .7}
			size_hint: .25, .05

		Label:
			text: 'Format: ' + root.format_text
			pos_hint: {'center_x': .5, 'center_y': .55}
			font_size: '32sp'

		Button:
			text: '2/4'
			pos_hint: {'center_x': .1, 'center_y': .4}
			size_hint: .2, .1
			on_press: root.format_text = '2/4'

		Button:
			text: '3/4'
			pos_hint: {'center_x': .3, 'center_y': .4}
			size_hint: .2, .1
			on_press: root.format_text = '3/4'

		Button:
			text: '4/4'
			pos_hint: {'center_x': .5, 'center_y': .4}
			size_hint: .2, .1
			on_press: root.format_text = '4/4'


		Button:
			text: '6/8'
			pos_hint: {'center_x': .7, 'center_y': .4}
			size_hint: .2, .1
			on_press: root.format_text = '6/8'

		Button:
			text: 'Custom'
			pos_hint: {'center_x': .9, 'center_y': .4}
			size_hint: .2, .1
			on_press: root.format_text = 'Custom'

		ToggleButton:
			id: mettoggle
			text: 'ON' if self.state == 'down' else 'OFF'
			size_hint: .2, .1
			pos_hint: {'center_x': .5, 'center_y': .25}
			on_press: root.met(self.state, metinput.text)

		


